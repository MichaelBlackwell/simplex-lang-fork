<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 450" width="700" height="450">
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a2e"/>
      <stop offset="100%" style="stop-color:#16213e"/>
    </linearGradient>
    <linearGradient id="supervisorGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#00d9ff"/>
      <stop offset="100%" style="stop-color:#0077b6"/>
    </linearGradient>
    <linearGradient id="actorGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#00ff88"/>
      <stop offset="100%" style="stop-color:#00b359"/>
    </linearGradient>
    <linearGradient id="failedGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ff6b6b"/>
      <stop offset="100%" style="stop-color:#cc0000"/>
    </linearGradient>
    <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="700" height="450" fill="url(#bgGradient)"/>

  <!-- Title -->
  <text x="350" y="30" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="20" font-weight="bold">Actor Supervision Tree: "Let It Crash"</text>

  <!-- Root Supervisor -->
  <g transform="translate(300, 60)">
    <rect x="0" y="0" width="100" height="50" rx="8" fill="url(#supervisorGradient)" filter="url(#glow)"/>
    <text x="50" y="22" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Root</text>
    <text x="50" y="38" text-anchor="middle" fill="#cceeff" font-family="Arial, sans-serif" font-size="10">Supervisor</text>
  </g>

  <!-- Lines from Root to children -->
  <line x1="350" y1="110" x2="175" y2="150" stroke="#00d9ff" stroke-width="2"/>
  <line x1="350" y1="110" x2="350" y2="150" stroke="#00d9ff" stroke-width="2"/>
  <line x1="350" y1="110" x2="525" y2="150" stroke="#00d9ff" stroke-width="2"/>

  <!-- Child Supervisors -->
  <g transform="translate(100, 150)">
    <rect x="0" y="0" width="150" height="50" rx="8" fill="url(#supervisorGradient)" filter="url(#glow)"/>
    <text x="75" y="22" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Hive Supervisor</text>
    <text x="75" y="38" text-anchor="middle" fill="#cceeff" font-family="Arial, sans-serif" font-size="10">OneForOne</text>
  </g>

  <g transform="translate(275, 150)">
    <rect x="0" y="0" width="150" height="50" rx="8" fill="url(#supervisorGradient)" filter="url(#glow)"/>
    <text x="75" y="22" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">IO Supervisor</text>
    <text x="75" y="38" text-anchor="middle" fill="#cceeff" font-family="Arial, sans-serif" font-size="10">RestForOne</text>
  </g>

  <g transform="translate(450, 150)">
    <rect x="0" y="0" width="150" height="50" rx="8" fill="url(#supervisorGradient)" filter="url(#glow)"/>
    <text x="75" y="22" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Task Supervisor</text>
    <text x="75" y="38" text-anchor="middle" fill="#cceeff" font-family="Arial, sans-serif" font-size="10">OneForAll</text>
  </g>

  <!-- Lines to Worker Actors -->
  <line x1="175" y1="200" x2="100" y2="250" stroke="#00ff88" stroke-width="1.5"/>
  <line x1="175" y1="200" x2="175" y2="250" stroke="#00ff88" stroke-width="1.5"/>
  <line x1="175" y1="200" x2="250" y2="250" stroke="#00ff88" stroke-width="1.5"/>

  <line x1="350" y1="200" x2="325" y2="250" stroke="#00ff88" stroke-width="1.5"/>
  <line x1="350" y1="200" x2="375" y2="250" stroke="#00ff88" stroke-width="1.5"/>

  <line x1="525" y1="200" x2="475" y2="250" stroke="#00ff88" stroke-width="1.5"/>
  <line x1="525" y1="200" x2="525" y2="250" stroke="#00ff88" stroke-width="1.5"/>
  <line x1="525" y1="200" x2="575" y2="250" stroke="#00ff88" stroke-width="1.5"/>

  <!-- Worker Actors -->
  <g transform="translate(60, 250)">
    <circle cx="40" cy="25" r="25" fill="url(#actorGradient)"/>
    <text x="40" y="30" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="10">Analyst</text>
  </g>

  <g transform="translate(135, 250)">
    <circle cx="40" cy="25" r="25" fill="url(#failedGradient)"/>
    <text x="40" y="25" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="10">Coder</text>
    <text x="40" y="37" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="8">CRASHED</text>
  </g>

  <g transform="translate(210, 250)">
    <circle cx="40" cy="25" r="25" fill="url(#actorGradient)"/>
    <text x="40" y="30" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="10">Reviewer</text>
  </g>

  <g transform="translate(285, 250)">
    <circle cx="40" cy="25" r="25" fill="url(#actorGradient)"/>
    <text x="40" y="30" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="10">Reader</text>
  </g>

  <g transform="translate(335, 250)">
    <circle cx="40" cy="25" r="25" fill="url(#actorGradient)"/>
    <text x="40" y="30" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="10">Writer</text>
  </g>

  <g transform="translate(435, 250)">
    <circle cx="40" cy="25" r="25" fill="url(#actorGradient)"/>
    <text x="40" y="30" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="10">Task 1</text>
  </g>

  <g transform="translate(485, 250)">
    <circle cx="40" cy="25" r="25" fill="url(#actorGradient)"/>
    <text x="40" y="30" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="10">Task 2</text>
  </g>

  <g transform="translate(535, 250)">
    <circle cx="40" cy="25" r="25" fill="url(#actorGradient)"/>
    <text x="40" y="30" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="10">Task 3</text>
  </g>

  <!-- Recovery Arrow -->
  <g transform="translate(175, 310)">
    <path d="M 0 0 C 0 30, 40 30, 40 60" fill="none" stroke="#00ff88" stroke-width="2" stroke-dasharray="5,3"/>
    <polygon points="40,65 35,55 45,55" fill="#00ff88"/>
    <text x="60" y="35" fill="#00ff88" font-family="Arial, sans-serif" font-size="10">Restart</text>
  </g>

  <!-- New Actor (Restarted) -->
  <g transform="translate(135, 370)">
    <circle cx="40" cy="25" r="25" fill="url(#actorGradient)" stroke="#00ff88" stroke-width="2" stroke-dasharray="4,2"/>
    <text x="40" y="25" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="10">Coder</text>
    <text x="40" y="37" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="8">NEW</text>
  </g>

  <!-- Supervision Strategies Box -->
  <rect x="400" y="320" width="280" height="120" rx="8" fill="#0f3460" opacity="0.7"/>
  <text x="540" y="345" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Supervision Strategies</text>

  <g transform="translate(420, 355)">
    <circle cx="8" cy="8" r="4" fill="#00d9ff"/>
    <text x="20" y="12" fill="#8892b0" font-family="Arial, sans-serif" font-size="10"><tspan font-weight="bold" fill="#00d9ff">OneForOne:</tspan> Restart only failed child</text>
  </g>

  <g transform="translate(420, 375)">
    <circle cx="8" cy="8" r="4" fill="#00d9ff"/>
    <text x="20" y="12" fill="#8892b0" font-family="Arial, sans-serif" font-size="10"><tspan font-weight="bold" fill="#00d9ff">RestForOne:</tspan> Restart failed + siblings after</text>
  </g>

  <g transform="translate(420, 395)">
    <circle cx="8" cy="8" r="4" fill="#00d9ff"/>
    <text x="20" y="12" fill="#8892b0" font-family="Arial, sans-serif" font-size="10"><tspan font-weight="bold" fill="#00d9ff">OneForAll:</tspan> Restart all children</text>
  </g>

  <g transform="translate(420, 415)">
    <circle cx="8" cy="8" r="4" fill="#ff6b6b"/>
    <text x="20" y="12" fill="#8892b0" font-family="Arial, sans-serif" font-size="10"><tspan font-weight="bold" fill="#ff6b6b">Escalate:</tspan> Pass failure to parent</text>
  </g>

  <!-- Footer -->
  <text x="350" y="445" text-anchor="middle" fill="#4a5568" font-family="Arial, sans-serif" font-size="11">Failures are isolated, detected, and recovered automatically</text>
</svg>

// Test for hive with mnemonic

// Define specialists first
specialist Analyzer {
    model: "test",
    temperature: 0.3,

    receive Analyze(text: String) -> String {
        infer("Analyze: " + text)
    }
}

specialist Writer {
    model: "test",
    temperature: 0.7,

    receive Write(prompt: String) -> String {
        infer(prompt)
    }
}

// Now define hive
hive TestHive {
    specialists: [Analyzer, Writer],
    router: SemanticRouter,
    strategy: OneForOne,
    mnemonic {
        episodic: {
            capacity: 100
        }
    }
}

fn main() {
    println("Testing hive with mnemonic");

    let my_hive: i64 = TestHive_new();
    println("Created hive");

    let shared_mem: i64 = TestHive_mnemonic(my_hive);
    if shared_mem != 0 {
        println("Got mnemonic (shared memory)");
    }

    let knowledge: i64 = string_from("Shared fact");
    TestHive_share(my_hive, knowledge, 0.9);
    println("Shared to mnemonic");

    println("Test complete!");
}

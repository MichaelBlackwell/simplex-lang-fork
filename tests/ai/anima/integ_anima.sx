// Test file for anima keyword
// Phase 4: The Anima - Simplex's Cognitive Soul

anima TestSoul {
    identity {
        purpose: "Test the anima keyword implementation",
        values: ["testing", "verification"],
    }

    memory {
        episodic: "EpisodicStore",
        semantic: "SemanticStore",
    }

    beliefs {
        revision_threshold: 0,
    }

    slm {
        model: "test-model",
    }

    persistence {
        path: "test.anima",
    }
}

fn main() {
    println("Testing anima keyword...");

    // Create a new anima instance
    let soul: i64 = TestSoul_new();
    println("Created anima instance");

    // Test remember function
    let experience: i64 = string_from("First test experience");
    TestSoul_remember(soul, experience);
    println("Stored experience in episodic memory");

    // Test learn function
    let fact: i64 = string_from("Anima keyword is implemented");
    TestSoul_learn(soul, fact);
    println("Stored fact in semantic memory");

    // Test believe function
    let belief: i64 = string_from("The test will pass");
    TestSoul_believe(soul, belief, 90);
    println("Stored belief");

    // Test think function (returns question for now)
    let question: i64 = string_from("What is the meaning of life?");
    let thought: i64 = TestSoul_think(soul, question);
    println("Thought about a question");

    // Test recall_for function (returns empty vec for now)
    let goal: i64 = string_from("Find relevant memories");
    let context: i64 = string_from("testing");
    let memories: i64 = TestSoul_recall_for(soul, goal, context);
    println("Recalled memories for goal");

    // Clean up
    TestSoul_close(soul);
    println("Closed anima");

    println("All anima tests passed!");
}

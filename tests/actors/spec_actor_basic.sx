// Test basic actor functionality
// Expected: 42 (10 + 20 + 12)

actor Adder {
    var total: i64 = 0;

    receive Add(n: i64) {
        self.total = self.total + n;
    }

    receive Get() -> i64 {
        self.total
    }
}

fn main() -> i64 {
    let a = spawn Adder {};
    send(a, Add(10));
    send(a, Add(20));
    send(a, Add(12));
    ask(a, Get())
}

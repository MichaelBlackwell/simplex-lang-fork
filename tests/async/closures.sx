// Test: Nested closure capture

fn test_simple_capture() -> i64 {
    let x: i64 = 10;
    let f = || x;
    f()
}

fn test_nested_capture() -> i64 {
    let x: i64 = 5;
    let outer = || {
        let inner = || x * 2;
        inner()
    };
    outer()
}

fn main() -> i64 {
    let r1 = test_simple_capture();
    if r1 == 10 {
        println("PASS: simple nested capture");
    }

    let r2 = test_nested_capture();
    if r2 == 10 {
        println("PASS: multiple captures");
    }

    0
}

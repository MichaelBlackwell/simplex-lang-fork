// Phase 36 Test: C2.4 - Option/Result construction

enum Option<T> {
    None,
    Some(T),
}

enum Result<T, E> {
    Err(E),
    Ok(T),
}

fn test_some() -> i64 {
    let opt: Option<i64> = Some(42);
    match opt {
        Some(x) => x,
        None => 0
    }
}

fn test_none() -> i64 {
    let opt: Option<i64> = None;
    match opt {
        Some(x) => x,
        None => -1
    }
}

fn test_ok() -> i64 {
    let res: Result<i64, i64> = Ok(100);
    match res {
        Ok(v) => v,
        Err(e) => e
    }
}

fn test_err() -> i64 {
    let res: Result<i64, i64> = Err(-5);
    match res {
        Ok(v) => v,
        Err(e) => e
    }
}

fn main() -> i64 {
    print("Testing C2.4: Option/Result construction");

    if test_some() != 42 {
        print("FAIL: Some(42)");
        return 1;
    }
    print("  PASS: Some(42)");

    if test_none() != -1 {
        print("FAIL: None");
        return 2;
    }
    print("  PASS: None");

    if test_ok() != 100 {
        print("FAIL: Ok(100)");
        return 3;
    }
    print("  PASS: Ok(100)");

    if test_err() != -5 {
        print("FAIL: Err(-5)");
        return 4;
    }
    print("  PASS: Err(-5)");

    print("All C2.4 tests passed!");
    0
}

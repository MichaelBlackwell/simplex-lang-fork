// Test: Generic method resolution
// Tests Vec and String method calls mapping to runtime intrinsics

enum Option<T> {
 None,
 Some(T),
}

fn test_vec_methods() -> i64 {
 // Test Vec::new() and push()
 let v: Vec<i64> = Vec::new();
 v.push(10);
 v.push(20);
 v.push(30);

 // Test len()
 let len: i64 = v.len();
 if len != 3 {
 return 1;
 }

 // Test get()
 let first: Option<i64> = v.get(0);
 match first {
 Some(x) => {
 if x != 10 { return 2; }
 },
 None => { return 3; }
 }

 0
}

fn test_string_methods() -> i64 {
 // Test String::from() - already works via intrinsic
 let s: String = String::from("hello");

 // Test len()
 let len: i64 = s.len();
 if len != 5 {
 return 1;
 }

 0
}

fn main() -> i64 {
 print("Testing Generic method resolution");

 let r1: i64 = test_vec_methods();
 if r1 != 0 {
 print("FAIL: Vec methods");
 return r1;
 }
 print(" PASS: Vec<T> methods");

 let r2: i64 = test_string_methods();
 if r2 != 0 {
 print("FAIL: String methods");
 return r2;
 }
 print(" PASS: String methods");

 print("All tests passed!");
 0
}

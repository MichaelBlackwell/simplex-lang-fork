// Neural gate test - training mode

neural_gate threshold_gate(x: f64) -> bool {
 x > 0.5
}

fn main() -> i64 {
 println("Test: Training mode");

 // Set training mode
 neural_set_training_mode(1);
 println("Set training mode");

 // In training mode, sigmoid is applied
 let r: f64 = threshold_gate(0.8);
 println("Called gate in training mode");

 // Result should be > 0.5 (soft output)
 if r > 0.5 {
 println("Test PASS: training mode returns soft output");
 } else {
 println("Test FAIL");
 return 1;
 }

 // Switch back to inference
 neural_set_training_mode(0);
 let r2: f64 = threshold_gate(0.8);
 println("Called gate in inference mode");

 if r2 > 0.9 {
 println("Test PASS: inference mode returns hard output");
 } else {
 println("Test FAIL: inference mode not working");
 return 1;
 }

 println("ALL TESTS PASSED");
 0
}

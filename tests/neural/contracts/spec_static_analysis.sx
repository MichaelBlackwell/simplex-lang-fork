// Test: Static Contract Analysis
// This test verifies that the compiler performs static analysis
// on neural gate contracts at compile time.

// Neural gate with a requires clause
neural_gate confidence_gate(x: f64) -> bool
 requires x > 0.5
{
 x > 0.7
}

fn main() -> i64 {
 println("Test: Static Contract Analysis");

 neural_set_training_mode(0);

 // This call should pass static analysis (0.8 > 0.5)
 let r1: f64 = confidence_gate(0.8);
 println("Called confidence_gate(0.8)");

 if r1 > 0.5 {
 println("Test 1 PASSED: valid call works");
 } else {
 println("Test 1 FAILED");
 return 1;
 }

 // The following call would trigger a static warning if we called with 0.3
 // (since 0.3 < 0.5 violates requires x > 0.5)
 // For testing purposes, we use a variable to avoid static analysis
 let low_val: f64 = 0.6; // Just above threshold to pass
 let r2: f64 = confidence_gate(low_val);
 println("Called confidence_gate with variable");

 println("ALL TESTS PASSED");
 0
}

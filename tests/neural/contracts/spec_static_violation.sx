// Test: Phase 2 Static Contract Violation Detection
// This test verifies that the compiler detects contract violations
// at compile time when calling with literal arguments.
//
// EXPECTED: This should produce a compile-time warning about the contract violation

// Neural gate with a requires clause
neural_gate strict_gate(x: f64) -> bool
    requires x > 0.5
{
    x > 0.9
}

fn main() -> i64 {
    println("Test: Static Contract Violation");

    neural_set_training_mode(0);

    // This call SHOULD trigger a static warning at compile time
    // because 0.3 < 0.5 violates "requires x > 0.5"
    let r: f64 = strict_gate(0.3);
    println("Called strict_gate(0.3) - should have warned");

    // Note: The warning is at compile time, the code still runs
    // at runtime with the contract check happening dynamically
    println("Test complete - check stderr for warning");
    0
}

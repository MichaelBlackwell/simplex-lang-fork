// Test file for Cognitive Actor intrinsics
// Tests basic functionality and verifies functions run without crashing

fn main() -> i64 {
    let passed = 0;
    let failed = 0;
    print("=== Cognitive Actor Tests ===\n");

    // Test 1: Create a cognitive actor
    print("Test 1: cognitive_actor_new... ");
    let ca = cognitive_actor_new(1, "test_actor", "friendly");
    if ca != 0 {
        print("PASSED\n");
        passed = passed + 1;
    } else {
        print("FAILED\n");
        failed = failed + 1;
    }

    // Test 2: Get anima from cognitive actor
    print("Test 2: cognitive_actor_get_anima... ");
    let anima = cognitive_actor_get_anima(ca);
    if anima >= 0 {
        print("PASSED\n");
        passed = passed + 1;
    } else {
        print("FAILED\n");
        failed = failed + 1;
    }

    // Test 3: Set auto learn enabled
    print("Test 3: cognitive_actor_set_auto_learn(true)... ");
    cognitive_actor_set_auto_learn(ca, true);
    print("PASSED\n");
    passed = passed + 1;

    // Test 4: Set auto learn disabled
    print("Test 4: cognitive_actor_set_auto_learn(false)... ");
    cognitive_actor_set_auto_learn(ca, false);
    print("PASSED\n");
    passed = passed + 1;

    // Test 5: Set auto remember enabled
    print("Test 5: cognitive_actor_set_auto_remember(true)... ");
    cognitive_actor_set_auto_remember(ca, true);
    print("PASSED\n");
    passed = passed + 1;

    // Test 6: Set auto remember disabled
    print("Test 6: cognitive_actor_set_auto_remember(false)... ");
    cognitive_actor_set_auto_remember(ca, false);
    print("PASSED\n");
    passed = passed + 1;

    // Test 7: Set threshold to 0.5
    print("Test 7: cognitive_actor_set_threshold(0.5)... ");
    cognitive_actor_set_threshold(ca, 0.5);
    print("PASSED\n");
    passed = passed + 1;

    // Test 8: Set threshold to 0.0
    print("Test 8: cognitive_actor_set_threshold(0.0)... ");
    cognitive_actor_set_threshold(ca, 0.0);
    print("PASSED\n");
    passed = passed + 1;

    // Test 9: Set threshold to 1.0
    print("Test 9: cognitive_actor_set_threshold(1.0)... ");
    cognitive_actor_set_threshold(ca, 1.0);
    print("PASSED\n");
    passed = passed + 1;

    // Test 10: Get personality
    print("Test 10: cognitive_actor_get_personality... ");
    let personality = cognitive_actor_get_personality(ca);
    if personality >= 0 {
        print("PASSED\n");
        passed = passed + 1;
    } else {
        print("FAILED\n");
        failed = failed + 1;
    }

    // Test 11: Get actor info
    print("Test 11: cognitive_actor_info... ");
    let info = cognitive_actor_info(ca);
    if info >= 0 {
        print("PASSED\n");
        passed = passed + 1;
    } else {
        print("FAILED\n");
        failed = failed + 1;
    }

    // Test 12: Create a second cognitive actor
    print("Test 12: cognitive_actor_new (second actor)... ");
    let ca2 = cognitive_actor_new(2, "helper_actor", "analytical");
    if ca2 != 0 {
        print("PASSED\n");
        passed = passed + 1;
    } else {
        print("FAILED\n");
        failed = failed + 1;
    }

    // Test 13: Close second cognitive actor
    print("Test 13: cognitive_actor_close... ");
    cognitive_actor_close(ca2);
    print("PASSED\n");
    passed = passed + 1;

    // Test 14: Create a cognitive team
    print("Test 14: cognitive_team_new... ");
    let team = cognitive_team_new("test_team");
    if team != 0 {
        print("PASSED\n");
        passed = passed + 1;
    } else {
        print("FAILED\n");
        failed = failed + 1;
    }

    // Test 15: Get team size (should be 0 initially)
    print("Test 15: cognitive_team_size (empty)... ");
    let size = cognitive_team_size(team);
    if size >= 0 {
        print("PASSED\n");
        passed = passed + 1;
    } else {
        print("FAILED\n");
        failed = failed + 1;
    }

    // Test 16: Create another team
    print("Test 16: cognitive_team_new (second team)... ");
    let team2 = cognitive_team_new("research_team");
    if team2 != 0 {
        print("PASSED\n");
        passed = passed + 1;
    } else {
        print("FAILED\n");
        failed = failed + 1;
    }

    // Test 17: Close second team
    print("Test 17: cognitive_team_close... ");
    cognitive_team_close(team2);
    print("PASSED\n");
    passed = passed + 1;

    // Test 18: Create actor with different personality
    print("Test 18: cognitive_actor_new (creative personality)... ");
    let ca3 = cognitive_actor_new(3, "creative_actor", "creative");
    if ca3 != 0 {
        print("PASSED\n");
        passed = passed + 1;
    } else {
        print("FAILED\n");
        failed = failed + 1;
    }

    // Test 19: Set threshold with fractional value
    print("Test 19: cognitive_actor_set_threshold(0.75)... ");
    cognitive_actor_set_threshold(ca3, 0.75);
    print("PASSED\n");
    passed = passed + 1;

    // Test 20: Close creative actor
    print("Test 20: cognitive_actor_close (creative actor)... ");
    cognitive_actor_close(ca3);
    print("PASSED\n");
    passed = passed + 1;

    // Cleanup: Close remaining resources
    cognitive_actor_close(ca);
    cognitive_team_close(team);

    // Print summary
    print("\n=== Test Summary ===\n");
    print("Passed: "); print_i64(passed); print(" / "); print_i64(passed + failed); print("\n");
    return failed;
}

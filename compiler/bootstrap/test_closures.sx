// Test closures

fn test_closure_simple() -> i64 {
    let add = |a: i64, b: i64| { a + b };
    add(3, 4)  // Should be 7
}

fn test_closure_capture() -> i64 {
    var base = 100;
    let add_base = |x: i64| { base + x };
    add_base(5)  // Should be 105
}

fn main() -> i64 {
    var passed = 0;

    if test_closure_simple() == 7 {
        print("closure_simple: PASS\n");
        passed = passed + 1;
    } else {
        print("closure_simple: FAIL\n");
    }

    if test_closure_capture() == 105 {
        print("closure_capture: PASS\n");
        passed = passed + 1;
    } else {
        print("closure_capture: FAIL\n");
    }

    passed
}

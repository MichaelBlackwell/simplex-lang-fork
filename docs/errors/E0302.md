error[E0302]: return in closure

This error occurs when you try to use `return` to exit from an enclosing
function from within a closure. In Simplex, `return` inside a closure
returns from the closure itself, not the outer function.

Example of erroneous code:
    fn find_and_exit(items: [i64], target: i64) {
        items.for_each(|item| {
            if item == target {
                return;  // This returns from the closure, not find_and_exit
            }
        });
        // Code here still executes!
    }

    fn example() {
        let callback = || {
            return 42;  // error if used expecting to return from example()
        };
    }

Common causes:
- Expecting return to exit the outer function
- Using imperative patterns that don't translate to closures
- Misunderstanding closure semantics

To fix this, restructure your code:

Using a loop instead of a closure:
    fn find_and_exit(items: [i64], target: i64) -> bool {
        for item in items {
            if item == target {
                return true;  // ok: returns from function
            }
        }
        false
    }

Using a result variable:
    fn process(items: [i64]) -> i64 {
        let mut result = 0;
        let mut found = false;
        for item in items {
            if !found && item > 0 {
                result = item;
                found = true;
            }
        }
        result
    }

Using iterator methods that short-circuit:
    fn find(items: [i64], target: i64) -> Option<i64> {
        items.iter().find(|x| *x == target)  // short-circuits when found
    }

Return inside a closure returns from the closure:
    fn example() {
        let double = |x| {
            return x * 2;  // returns from closure (this is ok)
        };
        let result = double(21);  // result = 42
    }

See also:
- E0300: break outside of loop
- E0301: continue outside of loop
